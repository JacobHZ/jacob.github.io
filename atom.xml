<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jacob&#39;s Blog</title>
  <subtitle>Good Good Study Day Day Up</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-09-09T05:33:27.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>jacob</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git clone 报错：SSL certificate problem</title>
    <link href="http://yoursite.com/2016/09/09/git%E6%8A%A5%E9%94%99/"/>
    <id>http://yoursite.com/2016/09/09/git报错/</id>
    <published>2016-09-08T16:00:00.000Z</published>
    <updated>2016-09-09T05:33:27.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>进行git clone时提示“无效的链接”，并且弹出如下报错：<blockquote>
<p>error: SSL certificate problem: Invalid certificate chain while accessing <a href="https://githib.com/...XXXX.git" target="_blank" rel="external">https://githib.com/...XXXX.git</a> fatal: HTTP request failed</p>
</blockquote>
</li>
</ul>
<p>解决方法也很简单，一条命令就搞定了：</p>
<p>git config –global http.sslVerify false</p>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;进行git clone时提示“无效的链接”，并且弹出如下报错：&lt;blockquote&gt;
&lt;p&gt;error: SSL certificate problem: Invalid certificate chain while accessing &lt;a href=&quot;h
    
    </summary>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>MacOS + Idea配置 Maven + ReportNG</title>
    <link href="http://yoursite.com/2016/09/09/ReportNG/"/>
    <id>http://yoursite.com/2016/09/09/ReportNG/</id>
    <published>2016-09-08T16:00:00.000Z</published>
    <updated>2016-09-09T07:05:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>用testng做接口自动化，testng自带的报告模板不是特别美观，于是找到了ReportNG。</p>
<p>###在maven的pom.xml中添加ReportNG（最新版本为1.1.4）<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.uncommons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>reportng<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.testng<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>testng<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>备注：使用TestNG6.0+可能会遇到“ClassNotFoundExpection:com.google.inject.Module”问题，这里必须添加Guice，同样在pom.xml文件中继续添加</code><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.inject<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guice<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>###添加Surefire插件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">properties</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">name</span>&gt;</span>usedefaultlisteners<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">name</span>&gt;</span>listener<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">value</span>&gt;</span>org.uncommons.reportng.HTMLReporter, org.uncommons.reportng.JUnitXMLReporter<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">workingDirectory</span>&gt;</span>target/<span class="tag">&lt;/<span class="name">workingDirectory</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>至此，最基本的ReportNG报告模板以及添加完成。</p>
<p>###演示<br>这里以我之前写的一个Http接口测试为例子：</p>
<p><a href="http://www.cnblogs.com/testJocab/p/5438585.html" target="_blank" rel="external">http://www.cnblogs.com/testJocab/p/5438585.html</a></p>
<ol>
<li><p>打开终端，进入IDEA测试项目根目录</p>
</li>
<li><p>运行命令：mvn clean test，以下为输出内容：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line">[INFO] Scanning for projects...</div><div class="line">[INFO]                                                                         </div><div class="line">[INFO] ------------------------------------------------------------------------</div><div class="line">[INFO] Building maven 1.0-SNAPSHOT</div><div class="line">[INFO] ------------------------------------------------------------------------</div><div class="line">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom</div><div class="line">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom (4 KB at 1.0 KB/sec)</div><div class="line">[INFO] </div><div class="line">[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ maven ---</div><div class="line">[INFO] Deleting /Users/zhangbin/IdeaProjects/HttpTest/target</div><div class="line">[INFO] </div><div class="line">[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ maven ---</div><div class="line">[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!</div><div class="line">[INFO] Copying 0 resource</div><div class="line">[INFO] </div><div class="line">[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ maven ---</div><div class="line">[INFO] Nothing to compile - all classes are up to date</div><div class="line">[INFO] </div><div class="line">[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ maven ---</div><div class="line">[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!</div><div class="line">[INFO] skip non existing resourceDirectory /Users/zhangbin/IdeaProjects/HttpTest/src/test/resources</div><div class="line">[INFO] </div><div class="line">[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ maven ---</div><div class="line">[INFO] Changes detected - recompiling the module!</div><div class="line">[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!</div><div class="line">[INFO] Compiling 2 source files to /Users/zhangbin/IdeaProjects/HttpTest/target/test-classes</div><div class="line">[INFO] </div><div class="line">[INFO] --- maven-surefire-plugin:2.5:test (default-test) @ maven ---</div><div class="line">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-toolchain/2.0.9/maven-toolchain-2.0.9.jar</div><div class="line">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-toolchain/2.0.9/maven-toolchain-2.0.9.jar (38 KB at 14.2 KB/sec)</div><div class="line">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.5/surefire-testng-2.5.pom</div><div class="line">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.5/surefire-testng-2.5.pom (3 KB at 1.8 KB/sec)</div><div class="line">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.5/surefire-providers-2.5.pom</div><div class="line">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.5/surefire-providers-2.5.pom (2 KB at 2.1 KB/sec)</div><div class="line">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.5/surefire-testng-2.5.jar</div><div class="line">Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.5/surefire-testng-2.5.jar (27 KB at 8.3 KB/sec)</div><div class="line">[INFO] Surefire report directory: /Users/zhangbin/IdeaProjects/HttpTest/target/surefire-reports</div><div class="line"></div><div class="line">-------------------------------------------------------</div><div class="line"> T E S T S</div><div class="line">-------------------------------------------------------</div><div class="line">Running TestSuite</div><div class="line">=======This is BeforeClass=======</div><div class="line">http://gateway.zitech.com/gw/oauthentry/study.scene/1.0/getbysid?access_token=bb801ee6b9983c7f893473fd6a313ad2&amp;subject_id=1</div><div class="line">http://gateway.zitech.com/gw/oauthentry/study.scene/1.0/getbysid?access_token=bb801ee6b9983c7f893473fd6a313ad2&amp;subject_id=1<span class="comment">%2C2</span></div><div class="line">http://gateway.zitech.com/gw/oauthentry/study.scene/1.0/getbysid?access_token=bb801ee6b9983c7f893473fd6a313ad2&amp;subject_id=123</div><div class="line">http://gateway.zitech.com/gw/oauthentry/study.scene/1.0/getbysid?access_token=bb801ee6b9983c7f893473fd6a313ad2&amp;subject_id=</div><div class="line">This is afterClass</div><div class="line">Tests run: 4, Failures: 4, Errors: 0, Skipped: 0, Time elapsed: 10.556 sec &lt;&lt;&lt; FAILURE!</div><div class="line"></div><div class="line">Results :</div><div class="line"></div><div class="line">Failed tests: </div><div class="line">  getUri(HttpGetTest)</div><div class="line">  getUri(HttpGetTest)</div><div class="line">  getUri(HttpGetTest)</div><div class="line">  getUri(HttpGetTest)</div><div class="line"></div><div class="line">Tests run: 4, Failures: 4, Errors: 0, Skipped: 0</div><div class="line"></div><div class="line">[INFO] ------------------------------------------------------------------------</div><div class="line">[INFO] BUILD FAILURE</div><div class="line">[INFO] ------------------------------------------------------------------------</div><div class="line">[INFO] Total time: 26.159 s</div><div class="line">[INFO] Finished at: 2016-05-07T16:59:59+08:00</div><div class="line">[INFO] Final Memory: 18M/176M</div><div class="line">[INFO] ------------------------------------------------------------------------</div><div class="line">[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.5:test (default-test) on project maven: There are test failures.</div><div class="line">[ERROR] </div><div class="line">[ERROR] Please refer to /Users/zhangbin/IdeaProjects/HttpTest/target/surefire-reports for the individual test results.</div><div class="line">[ERROR] -&gt; [Help 1]</div><div class="line">[ERROR] </div><div class="line">[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.</div><div class="line">[ERROR] Re-run Maven using the -X switch to enable full debug logging.</div><div class="line">[ERROR] </div><div class="line">[ERROR] For more information about the errors and possible solutions, please read the following articles:</div><div class="line">[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</div></pre></td></tr></table></figure>
</li>
</ol>
<p>从输出结果可以看出，这个接口是出现问题的</p>
<ol>
<li>查看Html报告</li>
</ol>
<p>输出结果中有这么一句：</p>
<blockquote>
<p>Please refer to /Users/zhangbin/IdeaProjects/HttpTest/target/surefire-reports for the individual test results.</p>
</blockquote>
<p>所以我们的Html报告即在项目文件夹中的target、surefire-reports文件夹中，截图我就不再附上了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用testng做接口自动化，testng自带的报告模板不是特别美观，于是找到了ReportNG。&lt;/p&gt;
&lt;p&gt;###在maven的pom.xml中添加ReportNG（最新版本为1.1.4）&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;
    
    </summary>
    
    
      <category term="ReportNG" scheme="http://yoursite.com/tags/ReportNG/"/>
    
  </entry>
  
  <entry>
    <title>【Httpclient+TestNG】接口自动化测试——GET请求示例</title>
    <link href="http://yoursite.com/2016/09/09/get%E8%AF%B7%E6%B1%82/"/>
    <id>http://yoursite.com/2016/09/09/get请求/</id>
    <published>2016-09-08T16:00:00.000Z</published>
    <updated>2016-09-09T07:15:43.000Z</updated>
    
    <content type="html"><![CDATA[<p>###先直接上代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> net.sf.json.JSONArray;</div><div class="line"><span class="keyword">import</span> net.sf.json.JSONObject;</div><div class="line"><span class="keyword">import</span> org.apache.http.client.config.RequestConfig;</div><div class="line"><span class="keyword">import</span> org.apache.http.client.methods.CloseableHttpResponse;</div><div class="line"><span class="keyword">import</span> org.apache.http.client.methods.HttpGet;</div><div class="line"><span class="keyword">import</span> org.apache.http.client.utils.URIBuilder;</div><div class="line"><span class="keyword">import</span> org.apache.http.impl.client.CloseableHttpClient;</div><div class="line"><span class="keyword">import</span> org.apache.http.impl.client.HttpClients;</div><div class="line"><span class="keyword">import</span> org.apache.http.util.EntityUtils;</div><div class="line"><span class="keyword">import</span> org.testng.Assert;</div><div class="line"><span class="keyword">import</span> org.testng.annotations.AfterClass;</div><div class="line"><span class="keyword">import</span> org.testng.annotations.BeforeClass;</div><div class="line"><span class="keyword">import</span> org.testng.annotations.DataProvider;</div><div class="line"><span class="keyword">import</span> org.testng.annotations.Test;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.net.URI;</div><div class="line"><span class="keyword">import</span> java.net.URISyntaxException;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by zhangbin on 16/4/26.</div><div class="line"> * 接口链接:http://gateway.zitech.com/gw/oauthentry/study.scene/1.0/getbysid?" 参数access_token,subject_id</div><div class="line"> * asset过程中出现字符类型不同问题,字符类型必须相同才能进行asset</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpGetTest</span> </span>&#123;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="meta">@BeforeClass</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeClass</span><span class="params">()</span></span>&#123;</div><div class="line">        System.out.println(<span class="string">"=======This is BeforeClass======="</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@DataProvider</span>(name=<span class="string">"user"</span>)</div><div class="line">    <span class="keyword">public</span> Object [][] Users()&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Object[][]&#123;</div><div class="line">                &#123;<span class="string">"bb801ee6b9983c7f893473fd6a313ad2"</span>,<span class="string">"1"</span>,<span class="string">"0"</span>&#125;,</div><div class="line">                &#123;<span class="string">"bb801ee6b9983c7f893473fd6a313ad2"</span>,<span class="string">"1,2"</span>,<span class="string">"5008"</span>&#125;,</div><div class="line">                &#123;<span class="string">"bb801ee6b9983c7f893473fd6a313ad2"</span>,<span class="string">"123"</span>,<span class="string">"0"</span>&#125;,</div><div class="line">                &#123;<span class="string">"bb801ee6b9983c7f893473fd6a313ad2"</span>,<span class="string">""</span>,<span class="string">"5008"</span>&#125;</div><div class="line">        &#125;;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Test</span>(dataProvider=<span class="string">"user"</span>)</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUri</span><span class="params">(String access_token,String subject_id,String hcode)</span> <span class="keyword">throws</span> URISyntaxException, IOException </span>&#123;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 拼接接口链接</div><div class="line">         */</div><div class="line">        URI uri = <span class="keyword">new</span> URIBuilder()</div><div class="line">                .setScheme(<span class="string">"http"</span>)</div><div class="line">                .setHost(<span class="string">"gateway.zitech.com/gw/oauthentry"</span>)</div><div class="line">                .setPath(<span class="string">"/study.scene/1.0/getbysid"</span>)</div><div class="line">                .setParameter(<span class="string">"access_token"</span>,access_token)</div><div class="line">                .setParameter(<span class="string">"subject_id"</span>,subject_id)</div><div class="line">                .build();</div><div class="line">        System.out.println(uri);</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 创建httpclient</div><div class="line">         */</div><div class="line">        CloseableHttpClient httpClient = HttpClients.createDefault();</div><div class="line">        HttpGet httpGet = <span class="keyword">new</span> HttpGet(uri);</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 设置超时时间</div><div class="line">         */</div><div class="line">        RequestConfig requestConfig = RequestConfig.custom()</div><div class="line">                .setSocketTimeout(<span class="number">2000</span>)</div><div class="line">                .setConnectionRequestTimeout(<span class="number">2000</span>)</div><div class="line">                .build();</div><div class="line">        httpGet.setConfig(requestConfig);</div><div class="line"></div><div class="line">        CloseableHttpResponse response = httpClient.execute(httpGet);</div><div class="line">        System.out.println(<span class="string">"响应码:"</span> + response.getStatusLine().getStatusCode());</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 获取服务器响应内容</div><div class="line">         */</div><div class="line">        String returnStr = EntityUtils.toString(response.getEntity());</div><div class="line"><span class="comment">//        System.out.println("响应内容:" + returnStr);</span></div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 解析json</div><div class="line">         */</div><div class="line">        JSONObject jsonObject = JSONObject.fromObject(returnStr);</div><div class="line"><span class="comment">//        System.out.println(jsonObject.has("message"));</span></div><div class="line"><span class="comment">//        System.out.println(jsonObject.getString("message"));</span></div><div class="line">        String code = jsonObject.getString(<span class="string">"code"</span>);</div><div class="line">        String message = jsonObject.getString(<span class="string">"message"</span>);</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 进行结果验证</div><div class="line">         * 注意asset对象字符类型,此处全为String类型</div><div class="line">         */</div><div class="line">        <span class="keyword">if</span> (jsonObject.get(<span class="string">"data"</span>) !=<span class="keyword">null</span> &amp;&amp; code.equals(<span class="string">"0"</span>))&#123;</div><div class="line"></div><div class="line">            JSONArray array = jsonObject.getJSONArray(<span class="string">"data"</span>);</div><div class="line">            <span class="keyword">if</span> (array.size() &gt; <span class="number">0</span>)&#123;</div><div class="line">                JSONObject data = array.getJSONObject(<span class="number">0</span>);</div><div class="line">                String su_id = data.getString(<span class="string">"subjectId"</span>);</div><div class="line">                System.out.println(<span class="string">"subjectId:"</span> + su_id);</div><div class="line">                Assert.assertEquals(subject_id,su_id);</div><div class="line"></div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                Assert.assertEquals(hcode,code);</div><div class="line">                System.out.println(code);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            Assert.assertEquals(hcode,code);</div><div class="line">        &#125;</div><div class="line">        System.out.println(<span class="string">"message:"</span> + message);</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@AfterClass</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterClass</span><span class="params">()</span></span>&#123;</div><div class="line">        System.out.println(<span class="string">"This is afterClass"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###先直接上代码&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div cla
    
    </summary>
    
    
      <category term="接口测试" scheme="http://yoursite.com/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Selenium定位frame中元素问题</title>
    <link href="http://yoursite.com/2016/09/07/selenium%E5%85%83%E7%B4%A0%E5%AE%9A%E4%BD%8D%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2016/09/07/selenium元素定位问题/</id>
    <published>2016-09-07T14:26:46.000Z</published>
    <updated>2016-09-09T05:24:26.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近在玩一个网页游戏，想通过selenium+python做一个自动化脚本，减少重复的人工操作，同时练习一下selenium的使用。</p>
<h2 id="对页面进行分析"><a href="#对页面进行分析" class="headerlink" title="对页面进行分析"></a>对页面进行分析</h2><p>地址：<a href="http://wan.douyu.com/jyjh/wd/index.html?referer=douyuwancom&amp;frm=jyjh" target="_blank" rel="external">http://wan.douyu.com/jyjh/wd/index.html?referer=douyuwancom&amp;frm=jyjh</a></p>
<p>登录用户名输入框的元素：<br><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input name="username" id="userName" title="请输入昵称" maxlength="50" placeholder="请输入昵称" type="text"&gt;</div></pre></td></tr></table></figure></p>
<p>登录密码输入框的元素：<br><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input name="username" id="userPass" title="请输入密码" maxlength="50" placeholder="请输入密码" type="password"&gt;</div></pre></td></tr></table></figure></p>
<p>由此可见，我们可以通过id或者xpath来定位输入框元素：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">driver = webdriver.Firefox()</div><div class="line">url = <span class="string">"http://wan.douyu.com/jyjh/wd/index.html?referer=douyuwancom&amp;frm=jyjh/"</span></div><div class="line"></div><div class="line">driver.get(url)</div><div class="line">time.sleep(<span class="number">5</span>)</div><div class="line">driver.find_element_by_id(<span class="string">"userName"</span>).send_keys(<span class="string">"******"</span>)</div><div class="line">driver.find_element_by_xpath(<span class="string">"userPass"</span>).send_keys(<span class="string">"******"</span>)</div></pre></td></tr></table></figure></p>
<p><strong>这样可行吗？？？</strong><br>答案当然是不行的，这个时候我就陷入了深深的疑惑中，肯定是哪里出了问题，但是我找不到。</p>
<h2 id="重新分析页面"><a href="#重新分析页面" class="headerlink" title="重新分析页面"></a>重新分析页面</h2><p>后来一想，id不能定位，xpath呢？</p>
<p>使用Firefox的view xpath查看一下页面的xpath，结果发现，这个页面上根本不显示登录模块：<br><img src="http://od524vt6u.bkt.clouddn.com/1468981818281.png" alt="Alt text"></p>
<p>这就很尴尬了，所以这个登录模块是在哪呢？<br>继续一查，发现问题了：<br><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;iframe style="display: inline;" id="log-url" src="http://www.douyu.com/member/login/to37wan/micrologin/?forward=http%3A%2F%2Fwan.douyu.com%2Fjyjh%2Fwd%2Fserver.html%3Freferer%3Ddouyuwancom%26frm%3Djyjh" allowtransparency="true" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" height="100%" width="100%"&gt;&lt;/iframe&gt;</div></pre></td></tr></table></figure></p>
<p>在登录输入框节点的上面有一个iframe，也就是说，这个登录模块的元素在iframe中，selenium同样也可以定位到iframe中的元素：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">url = <span class="string">"http://wan.douyu.com/jyjh/wd/index.html?referer=douyuwancom&amp;frm=jyjh/"</span></div><div class="line"></div><div class="line">driver.get(url)</div><div class="line">time.sleep(<span class="number">5</span>)</div><div class="line">driver.switch_to.frame(<span class="string">"log-url"</span>)</div><div class="line">driver.find_element_by_id(<span class="string">"userName"</span>).send_keys(<span class="string">"******"</span>)</div><div class="line">driver.find_element_by_id(<span class="string">"userPass"</span>).send_keys(<span class="string">"******"</span>)</div></pre></td></tr></table></figure></p>
<p>就是这个driver.switch_to.frame()方法<br>返回原来的界面可以用driver.SwitchTo().DefaultContent()方法</p>
<p>至此，解决了登录页面元素定位问题，迈出了第一步。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近在玩一个网页游戏，想通过selenium+python做一个自动化脚本，减少重复的人工操作，同时练习一下selenium的使用。&lt;/p&gt;
&lt;h2 id=&quot;对页面进行分析&quot;&gt;&lt;a href=&quot;#对页面进行分析&quot; class=&quot;headerlink&quot; title=&quot;对页面进
    
    </summary>
    
    
      <category term="Selenium" scheme="http://yoursite.com/tags/Selenium/"/>
    
  </entry>
  
  <entry>
    <title>Mac安装zsh后必须多次执行`source.bash_profile`解决方案</title>
    <link href="http://yoursite.com/2016/09/07/Mac%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2016/09/07/Mac使用/</id>
    <published>2016-09-06T16:00:00.000Z</published>
    <updated>2016-09-09T05:27:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mac-安装zsh后必须多次执行source-bash-profile解决方案"><a href="#Mac-安装zsh后必须多次执行source-bash-profile解决方案" class="headerlink" title="Mac 安装zsh后必须多次执行source .bash_profile解决方案"></a>Mac 安装zsh后必须多次执行<code>source .bash_profile</code>解决方案</h2><p>最近重新安装zsh后发现原先配好的maven环境变量失效了，重新 <code>source .bash_profile</code> 后又生效了；</p>
<p>但是，关闭终端重新打开后，maven环境变量又失效…总不能每次都执行一遍source .bash_profile；</p>
<p>搜索一番后找到了解决方法：</p>
<blockquote>
<p>在~/.zshrc文件末尾加上 source .bash_profile 即可。</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Mac-安装zsh后必须多次执行source-bash-profile解决方案&quot;&gt;&lt;a href=&quot;#Mac-安装zsh后必须多次执行source-bash-profile解决方案&quot; class=&quot;headerlink&quot; title=&quot;Mac 安装zsh后必须多次
    
    </summary>
    
    
      <category term="Mac" scheme="http://yoursite.com/tags/Mac/"/>
    
  </entry>
  
</feed>
